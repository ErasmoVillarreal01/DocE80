"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[926],{873:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>a,metadata:()=>s,toc:()=>T});const s=JSON.parse('{"id":"Utilities/Scripts/Messages/Missions/From_AMIS","title":"Mission strated from AMIS","description":"Overview","source":"@site/docs/Utilities/Scripts/Messages/Missions/From_AMIS.md","sourceDirName":"Utilities/Scripts/Messages/Missions","slug":"/Utilities/Scripts/Messages/Missions/From_AMIS","permalink":"/DocE80/docs/Utilities/Scripts/Messages/Missions/From_AMIS","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"sql","permalink":"/DocE80/docs/tags/sql"},{"inline":true,"label":"message-processing","permalink":"/DocE80/docs/tags/message-processing"},{"inline":true,"label":"scripts","permalink":"/DocE80/docs/tags/scripts"},{"inline":true,"label":"sdm","permalink":"/DocE80/docs/tags/sdm"},{"inline":true,"label":"missions","permalink":"/DocE80/docs/tags/missions"},{"inline":true,"label":"lgv","permalink":"/DocE80/docs/tags/lgv"},{"inline":true,"label":"handling","permalink":"/DocE80/docs/tags/handling"}],"version":"current","frontMatter":{"title":"Mission strated from AMIS","tags":["sql","message-processing","scripts","sdm","missions","lgv","handling"]},"sidebar":"techStack","previous":{"title":"Missions Messages","permalink":"/DocE80/docs/category/missions-messages-4"},"next":{"title":"From STST - Mission strated from STST","permalink":"/DocE80/docs/Utilities/Scripts/Messages/Missions/From_STST"}}');var r=t(4848),o=t(8453);const a={title:"Mission strated from AMIS",tags:["sql","message-processing","scripts","sdm","missions","lgv","handling"]},i=void 0,l={},T=[{value:"Overview",id:"overview",level:2},{value:"Trigger",id:"trigger",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Example: Simulating mission process from AMIS",id:"example-simulating-mission-process-from-amis",level:2}];function E(e){const n={br:"br",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"SDM"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Destination:"})," ",(0,r.jsx)(n.code,{children:"Task Handler"})," (typically ",(0,r.jsx)(n.code,{children:"LGVCS"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"AMIS"})," (Add Mission) message is sent by SDM to notify the Task Handler that a new handling mission is required. This mission may involve one or more stock units that must be moved from any source location to any destination within the warehouse. Through this message, SDM communicates that a new physical movement task must be executed by the automated handling system."]}),"\n",(0,r.jsx)(n.h2,{id:"trigger",children:"Trigger"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"New handling mission request:"}),(0,r.jsx)(n.br,{}),"\n","SDM determines that one or more stock units must be moved from a specific source location to a designated destination, generating a new mission for the Task Handler."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"expected-behavior",children:"Expected Behavior"}),"\n",(0,r.jsxs)(n.p,{children:["Upon receiving an ",(0,r.jsx)(n.code,{children:"AMIS"})," message:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The Task Handler (e.g., LGVCS) ",(0,r.jsx)(n.strong,{children:"registers the new mission request"}),", consisting of one or more stock\u2011unit movements."]}),"\n",(0,r.jsxs)(n.li,{children:["The mission is ",(0,r.jsx)(n.strong,{children:"queued, scheduled, or assigned"})," based on the Task Handler\u2019s internal logic (e.g., LGV availability, routing, task priority)."]}),"\n",(0,r.jsxs)(n.li,{children:["The automated system prepares to ",(0,r.jsx)(n.strong,{children:"execute the handling mission"}),", moving the specified stock units from the source to the destination according to SDM\u2019s instructions."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"example-simulating-mission-process-from-amis",children:"Example: Simulating mission process from AMIS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",metastring:'title="Simulate AMIS mission"',children:"SET TRANSACTION ISOLATION LEVEL READ COMMITTED\r\nbegin tran\r\n\r\nDECLARE @ROLLBACK\t\t\tBIT = 1\r\n\r\nDECLARE @ResultCode\t\t\tint\r\nDECLARE @ResultText\t\t\tnvarchar(max)\r\nDECLARE @ResourceNumber\t\tINT = 3\r\nDECLARE @ResourceType\t\tNVARCHAR(50) = 'SingleFork'\r\nDECLARE @TaskNumber\t\t\tNVARCHAR(50)\r\nDECLARE @MessageType\t\tNVARCHAR(50)\r\nDECLARE @ReplyMessageType\tNVARCHAR(50)\r\n\r\nDECLARE @Sender\t\t\t\tNVARCHAR(50) = 'debug'\r\nDECLARE @Receiver\t\t\tNVARCHAR(50) = 'debug'\r\nDECLARE @Result\t\t\t\tINT\r\n\r\nDECLARE @TaskInfo\t\t\tHandling.TaskInfo\r\nDECLARE @OpPosInfo\t\t\tHandling.OpPosInfo\r\nDECLARE @StockUnitInfo\t\tHandling.StockUnitInfo\r\nDECLARE @LPNs\t\t\t\tTABLE (LPN nvarchar(50))\r\n\r\nDECLARE\t@rc Int,\r\n\t\t@XmlReplyMessage xml\r\n\r\n\r\n\r\nDECLARE @XmlMessage xml = \r\n\r\nN'<Message>\r\n  <Header>\r\n    <Sender>Wms</Sender>\r\n    <Receiver>LGVCS</Receiver>\r\n    <Date>2026-01-27T19:32:54.983</Date>\r\n    <MessageType>AMIS</MessageType>\r\n    <MessageId>52047</MessageId>\r\n  </Header>\r\n  <Body>\r\n    <TaskNumber>W00000001208</TaskNumber>\r\n    <Priority>20</Priority>\r\n    <ResourceType>SingleFork</ResourceType>\r\n    <Column>\r\n      <Source>\r\n        <OpPosInfo OpPointName=\"AO049A\" Position=\"1\" Level=\"1\" Row=\"1\" StackLevel=\"1\" ResourcePosition=\"1\" LocationLength=\"12500\" LocationClearance=\"9400\" />\r\n      </Source>\r\n      <Destination>\r\n        <OpPosInfo OpPointName=\"HQS103B\" Position=\"1\" Level=\"1\" Row=\"1\" StackLevel=\"1\" ResourcePosition=\"1\" OperationHeight=\"0\" DistanceFromEnd=\"0\" LocationLength=\"1300\" LocationClearance=\"2350\" CenterSearchMode=\"0\" HeightSearchMode=\"0\" />\r\n      </Destination>\r\n      <Tracking>\r\n        <StockUnitInfo Position=\"1\" StackLevel=\"1\" Row=\"1\" Id_StockUnit=\"106845\" Lpn=\"202601271228\" Sku=\"1010_10010\" Quantity=\"60\" Length=\"1219\" Width=\"1016\" Height=\"1778\" Weight=\"907\" ForkSide=\"0\" ReelDiskHeight=\"0\" ItemClass=\"AGN\" LoadAid=\"1\" StabilityCode=\"7\" QualityStatus=\"Default\" ExpireDate=\"2027-12-27\" ShapeControlResult=\"0\" />\r\n      </Tracking>\r\n    </Column>\r\n  </Body>\r\n</Message>'\r\n\r\nDECLARE @mensaje NVARCHAR(MAX) = CONVERT(NVARCHAR(MAX), @XmlMessage)\r\nDECLARE @AMIS_Lpn NVARCHAR(20) = \r\n\tSUBSTRING( @mensaje,\r\n    CHARINDEX('Lpn=\"', @mensaje) + LEN('Lpn=\"'),\r\n    CHARINDEX('\"', @mensaje, CHARINDEX('Lpn=\"', @mensaje) + LEN('Lpn=\"')) \r\n        - (CHARINDEX('Lpn=\"', @mensaje) + LEN('Lpn=\"'))\r\n)\r\n\r\n--SELECT 'Lpn', @AMIS_Lpn\r\n\r\n/****************************************************************** ARWP **********************************************************************/\r\nPRINT '****************************************************************** ARWP **********************************************************************'\r\n\r\n\tINSERT INTO @TaskInfo\r\n\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlMessage)\r\n\t\t\r\n\tINSERT INTO @OpPosInfo\r\n\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlMessage)\r\n\t\t\r\n\tINSERT INTO @StockUnitInfo\r\n\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlMessage)\r\n\r\n\r\n\tselect @TaskNumber = TaskNumber from @TaskInfo\r\n\t\r\n\tINSERT INTO @LPNs (LPN) SELECT DISTINCT LPN FROM @StockUnitInfo\r\n\r\n\tupdate @TaskInfo\r\n\t\tset MessageType = 'ARWP',\r\n\t\t\tTaskNumber = @TaskNumber,\r\n\t\t\tResourceNumber = @ResourceNumber,\r\n\t\t\tResourceType = @ResourceType,\r\n\t\t\tResultCode = NULL\r\n\r\n\r\n\tEXEC Handling.usp_CreateXMLMessage \r\n\t\t@TaskInfo = @TaskInfo,\r\n\t\t@OpPosInfo = @OpPosInfo, \r\n\t\t@StockUnitInfo = @StockUnitInfo, \r\n\t\t@XmlMessage = @XmlMessage OUT\r\n\r\n\tselect @XmlMessage = cast (replace (cast(@XmlMessage as nvarchar(max)), '<Sender>wms</Sender>','<Sender>LGVCS</Sender>') as xml)\r\n\r\n\t-- delete node Destination (lgvm don't send it)\r\n\tSET @XmlMessage.modify('delete //Destination[1]')  \r\n\r\n\r\n\tEXEC\t@rc = [Handling].[usp_ProcessHandlerMessage_ARWP]\r\n\t\t\t@XmlMessage = @XmlMessage,\r\n\t\t\t@XmlReplyMessage = @XmlReplyMessage OUTPUT\r\n\r\n\r\n\tDELETE FROM @TaskInfo\r\n\tDELETE FROM @OpPosInfo\r\n\tDELETE FROM @StockUnitInfo\r\n\t\t\r\n\tINSERT INTO @TaskInfo\r\n\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\r\n\tINSERT INTO @OpPosInfo\r\n\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\tINSERT INTO @StockUnitInfo\r\n\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlReplyMessage)\r\n\r\n\tSELECT @ReplyMessageType = NULL\r\n\tSELECT @ReplyMessageType = MessageType, @Result = ResultCode FROM @TaskInfo\r\n\t\r\n\r\n\tSELECT @MessageType = 'ARWP'\r\n\tSELECT\t@MessageType, @XmlMessage\r\n\tSELECT\t@ReplyMessageType,\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\tSELECT\t@rc as 'Return Value'\r\n\r\n\r\n\r\n/****************************************************************** PKUP **********************************************************************/\r\nPRINT '****************************************************************** PKUP **********************************************************************'\r\n\t\r\n\tIF @ReplyMessageType = 'PPOS'\r\n\tBEGIN\r\n\r\n\t\tupdate @TaskInfo\r\n\t\t\tset MessageType = 'PKUP',\r\n\t\t\t\tTaskNumber = @TaskNumber,\r\n\t\t\t\tResourceNumber = @ResourceNumber,\r\n\t\t\t\tResourceType = @ResourceType,\r\n\t\t\t\tResultCode = NULL\r\n\r\n\r\ndelete from @OpPosInfo where ParentNode = 'Destination'\r\n\r\n\r\n\t\tEXEC Handling.usp_CreateXMLMessage \r\n\t\t\t@TaskInfo = @TaskInfo,\r\n\t\t\t@OpPosInfo = @OpPosInfo, \r\n\t\t\t@StockUnitInfo = @StockUnitInfo, \r\n\t\t\t@XmlMessage = @XmlMessage OUT\r\n\r\n\t\tselect @XmlMessage = cast (replace (cast(@XmlMessage as nvarchar(max)), '<Sender>wms</Sender>','<Sender>LGVCS</Sender>') as xml)\r\n\r\n\t\t-- delete node Destination (lgvm don't send it)\r\n\t\tSET @XmlMessage.modify('delete //Destination[1]')  \r\n\r\n\t\tEXECUTE @RC = [Handling].[usp_ProcessHandlerMessage_PKUP] \r\n\t\t   @XmlMessage\r\n\t\t  ,@XmlReplyMessage OUTPUT\r\n\t\t  ,@ResultCode OUTPUT\r\n\t\t  ,@ResultText OUTPUT\r\n\r\n\t\tDELETE FROM @TaskInfo\r\n\t\tDELETE FROM @OpPosInfo\r\n\t\tDELETE FROM @StockUnitInfo\r\n\t\r\n\t\tINSERT INTO @TaskInfo\r\n\t\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @OpPosInfo\r\n\t\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @StockUnitInfo\r\n\t\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlReplyMessage)\r\n\r\n\t\tDELETE FROM @LPNs\r\n\t\tINSERT INTO @LPNs (LPN) SELECT DISTINCT LPN FROM @StockUnitInfo\r\n\r\n\t\tSELECT @ReplyMessageType = NULL\r\n\t\tSELECT @ReplyMessageType = MessageType FROM @TaskInfo\r\n\r\n\r\n\t\tSELECT @MessageType = 'PKUP'\r\n\t\tSELECT  @MessageType, @XmlMessage\r\n\t\tSELECT\t@ReplyMessageType,\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\t\tSELECT\t@rc as 'Return Value'\r\n\r\n\r\n\tEND\r\n\r\n/****************************************************************** ARWD CHECKPOINT **********************************************************************/\r\nPRINT '****************************************************************** ARWD CHECKPOINT **********************************************************************'\r\n\t\r\n\tIF @ReplyMessageType = 'MMIS'\r\n\tBEGIN\r\n\r\n\t\tupdate @TaskInfo\r\n\t\t\tset MessageType = 'ARWD',\r\n\t\t\t\tTaskNumber = @TaskNumber,\r\n\t\t\t\tResourceNumber = @ResourceNumber,\r\n\t\t\t\tResourceType = @ResourceType\r\n\r\n\t\tEXEC Handling.usp_CreateXMLMessage \r\n\t\t\t@TaskInfo = @TaskInfo,\r\n\t\t\t@OpPosInfo = @OpPosInfo, \r\n\t\t\t@StockUnitInfo = @StockUnitInfo, \r\n\t\t\t@XmlMessage = @XmlMessage OUT\r\n\r\n\t\tselect @XmlMessage = cast (replace (cast(@XmlMessage as nvarchar(max)), '<Sender>wms</Sender>','<Sender>LGVCS</Sender>') as xml)\r\n\r\n\r\n\t\tEXECUTE @RC = [Handling].[usp_ProcessHandlerMessage_ARWD] \r\n\t\t   @XmlMessage\r\n\t\t  ,@XmlReplyMessage OUTPUT\r\n\t\t  ,@ResultCode OUTPUT\r\n\t\t  ,@ResultText OUTPUT\r\n\r\n\t\tDELETE FROM @TaskInfo\r\n\t\tDELETE FROM @OpPosInfo\r\n\t\tDELETE FROM @StockUnitInfo\r\n\t\r\n\t\tINSERT INTO @TaskInfo\r\n\t\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @OpPosInfo\r\n\t\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @StockUnitInfo\r\n\t\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlReplyMessage)\r\n\r\n\t\tSELECT @ReplyMessageType = NULL\r\n\t\tSELECT @ReplyMessageType = MessageType FROM @TaskInfo\r\n\r\n\r\n\t\tSELECT @MessageType = 'ARWD'\r\n\t\tSELECT  @MessageType, @XmlMessage\r\n\t\tSELECT\t@ReplyMessageType,\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\t\tSELECT\t@rc as 'Return Value'\r\n\r\n\r\n\t\t\r\n\r\n\t\t\r\n\tEND\r\n\r\n\r\n/****************************************************************** ARWD **********************************************************************/\r\nPRINT '****************************************************************** ARWD **********************************************************************'\r\n\t\r\n\tIF @ReplyMessageType = 'MMIS'\r\n\tBEGIN\r\n\r\n\t\tupdate @TaskInfo\r\n\t\t\tset MessageType = 'ARWD',\r\n\t\t\t\tTaskNumber = @TaskNumber,\r\n\t\t\t\tResourceNumber = @ResourceNumber,\r\n\t\t\t\tResourceType = @ResourceType\r\n\r\n\t\tEXEC Handling.usp_CreateXMLMessage \r\n\t\t\t@TaskInfo = @TaskInfo,\r\n\t\t\t@OpPosInfo = @OpPosInfo, \r\n\t\t\t@StockUnitInfo = @StockUnitInfo, \r\n\t\t\t@XmlMessage = @XmlMessage OUT\r\n\r\n\t\tselect @XmlMessage = cast (replace (cast(@XmlMessage as nvarchar(max)), '<Sender>wms</Sender>','<Sender>LGVCS</Sender>') as xml)\r\n\r\n\r\n\t\tEXECUTE @RC = [Handling].[usp_ProcessHandlerMessage_ARWD] \r\n\t\t   @XmlMessage\r\n\t\t  ,@XmlReplyMessage OUTPUT\r\n\t\t  ,@ResultCode OUTPUT\r\n\t\t  ,@ResultText OUTPUT\r\n\r\n\t\tDELETE FROM @TaskInfo\r\n\t\tDELETE FROM @OpPosInfo\r\n\t\tDELETE FROM @StockUnitInfo\r\n\t\r\n\t\tINSERT INTO @TaskInfo\r\n\t\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @OpPosInfo\r\n\t\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @StockUnitInfo\r\n\t\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlReplyMessage)\r\n\r\n\t\tSELECT @ReplyMessageType = NULL\r\n\t\tSELECT @ReplyMessageType = MessageType FROM @TaskInfo\r\n\r\n\r\n\t\tSELECT @MessageType = 'ARWD'\r\n\t\tSELECT  @MessageType, @XmlMessage\r\n\t\tSELECT\t@ReplyMessageType,\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\t\tSELECT\t@rc as 'Return Value'\r\n\r\n\r\n\t\t\r\n\r\n\t\t\r\n\tEND\r\n\r\n\r\n\t/****************************************************************** DPAL **********************************************************************/\r\nPRINT '****************************************************************** DPAL **********************************************************************'\r\n\t\r\n\tIF @ReplyMessageType = 'DPOS'\r\n\tBEGIN\r\n\t\tupdate @TaskInfo\r\n\t\t\tset MessageType = 'DPAL',\r\n\t\t\t\tTaskNumber = @TaskNumber,\r\n\t\t\t\tResourceNumber = @ResourceNumber,\r\n\t\t\t\tResourceType = @ResourceType\r\n\r\n\t\tEXEC Handling.usp_CreateXMLMessage \r\n\t\t\t@TaskInfo = @TaskInfo,\r\n\t\t\t@OpPosInfo = @OpPosInfo, \r\n\t\t\t@StockUnitInfo = @StockUnitInfo, \r\n\t\t\t@XmlMessage = @XmlMessage OUT\r\n\r\n\t\tselect @XmlMessage = cast (replace (cast(@XmlMessage as nvarchar(max)), '<Sender>wms</Sender>','<Sender>LGVCS</Sender>') as xml)\r\n\r\n\r\n\r\n\t\tEXECUTE @RC = [Handling].[usp_ProcessHandlerMessage_DPAL] \r\n\t\t   @XmlMessage\r\n\t\t  ,@XmlReplyMessage OUTPUT\r\n\t\t  ,@ResultCode OUTPUT\r\n\t\t  ,@ResultText OUTPUT\r\n\r\n\t\tDELETE FROM @TaskInfo\r\n\t\tDELETE FROM @OpPosInfo\r\n\t\tDELETE FROM @StockUnitInfo\r\n\t\r\n\t\tINSERT INTO @TaskInfo\r\n\t\tSELECT * FROM Handling.ufn_GetTaskInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @OpPosInfo\r\n\t\tSELECT * FROM Handling.ufn_GetOpPosInfoFromXmlMsg(@XmlReplyMessage)\r\n\t\t\r\n\t\tINSERT INTO @StockUnitInfo\r\n\t\tSELECT * FROM Handling.ufn_GetStockUnitInfoFromXmlMsg(@XmlReplyMessage)\r\n\r\n\t\tSELECT @ReplyMessageType = NULL\r\n\t\tSELECT @ReplyMessageType = MessageType FROM @TaskInfo\r\n\r\n\t\tSELECT @MessageType = 'DPAL'\r\n\t\tSELECT  @MessageType, @XmlMessage\r\n\t\tSELECT\t@ReplyMessageType, @XmlReplyMessage as N'@XmlReplyMessage'\r\n\t\tSELECT\t@rc as 'Return Value'\r\n\r\n\t\t\r\n\r\n\t\t\r\n\r\n\t\t\r\n\tEND\r\n\r\n\r\n\r\n\r\nDECLARE @AMISMessages xml\r\nDECLARE @SendMessages bit\r\nDECLARE\t@return_value Int\r\n\r\n\r\nEXECUTE @RC = [Shipping].[usp_OutboundShipmentMonitorProcess] \r\n\r\nSELECT TOP 1 'TransportOrders' [TO], * FROM Handling.TransportOrder ORDER BY ReleaseDateTime DESC\r\nSELECT TOP 1 'Tasks' [Task],* FROM Handling.Task WHERE Id = \r\n\t(SELECT TOP 1 Id_Task FROM Handling.TransportOrder ORDER BY ReleaseDateTime DESC\r\n)\r\n\r\nSELECT 'StockUnitStorage', * FROM Warehouse.StockUnitStorage\r\nWHERE IdStockUnit IN (\r\nSELECT Id FROM Inventory.StockUnit WHERE Lpn = @AMIS_Lpn)\r\n\r\n--SELECT 'ContainerName', * FROM Warehouse.ContainerName WHERE IdStockUnit IN (\r\n--SELECT Id FROM Inventory.StockUnit WHERE Lpn = @AMIS_Lpn)\r\n\r\n\r\n\r\nIF @ROLLBACK = 1\r\n\trollback\r\nELSE\r\n\tcommit\r\nGO\r\n\r\n\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AMIS xml template"',children:"<Message>\r\n  <Header>\r\n    <Sender>SDM</Sender>\r\n    <Receiver>LGVCS</Receiver>\r\n    <Date>2012-09-21 14:05:38:000Z</Date>\r\n    <MessageType>AMIS</MessageType>\r\n    <MessageId>12345</MessageId>\r\n  </Header>\r\n  <Body>\r\n    <TaskNumber>W00000000001</TaskNumber>\r\n    <TaskType>HouseKeeping</TaskType>\r\n    <DueDateTime>2012-09-28 14:05:38:000Z</DueDateTime>\r\n    <Priority>5</Priority>\r\n    <ResourceType>Double LGV</ResourceType>\r\n    <Column>\r\n      <Source>\r\n        <OpPosInfo OpPointName = 'BS_1_15' Position = '2' Level = '1' Row = '1' OperationHeight = '1600' DistanceFromEnd = '3000'/>\r\n      </Source>\r\n      <Destination>\r\n        <OpPosInfo OpPointName = 'BS_1_33' Position = '1' Level = '1' Row = '1' OperationHeight = '0' DistanceFromEnd = '0'/>\r\n      </Destination>\r\n      <Tracking>\r\n        <StockUnitInfo Position = '2' StackLevel = '3' Row = '1' Lpn = '12' Sku = 'Sku01' Length = '1000' Width = '1000' Height = '1500' Weight = '50' ItemClass = '1' LoadAid = '1' StabilityCode = '1' QualityStatus = '1'/>\r\n      </Tracking>\r\n    </Column>\r\n    <Column>\r\n      <Source>\r\n        <OpPosInfo OpPointName = 'BS_1_15' Position = '2' Level = '1' Row = '2' OperationHeight = '1600' DistanceFromEnd = '3000' />\r\n      </Source>\r\n      <Destination>\r\n        <OpPosInfo OpPointName = 'BS_1_33' Position = '1' Level = '1' Row = '2' OperationHeight = '0' DistanceFromEnd = '0' />\r\n      </Destination>\r\n      <Tracking>\r\n        <StockUnitInfo Position = '2' StackLevel = '3' Row = '2' Lpn = '15' Sku = 'Sku01' Length = '1000' Width = '1000' Height = '1500' Weight = '50' ItemClass = '1' LoadAid = '1' QualityStatus = '1' />\r\n      </Tracking>\r\n    </Column>\r\n  </Body>\r\n</Message>\r\n\n"})})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(E,{...e})}):E(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var s=t(6540);const r={},o=s.createContext(r);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);