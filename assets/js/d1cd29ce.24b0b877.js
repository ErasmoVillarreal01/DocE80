"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8380],{4701:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"Utilities/Scripts/Messages/HostMessages/ITM_MST","title":"ITM_MST - Item Master","description":"Overview","source":"@site/docs/Utilities/Scripts/Messages/HostMessages/ITM_MST.md","sourceDirName":"Utilities/Scripts/Messages/HostMessages","slug":"/Utilities/Scripts/Messages/HostMessages/ITM_MST","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/ITM_MST","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"sql","permalink":"/DocE80/docs/tags/sql"},{"inline":true,"label":"message-processing","permalink":"/DocE80/docs/tags/message-processing"},{"inline":true,"label":"scripts","permalink":"/DocE80/docs/tags/scripts"},{"inline":true,"label":"sdm","permalink":"/DocE80/docs/tags/sdm"},{"inline":true,"label":"host-messages","permalink":"/DocE80/docs/tags/host-messages"}],"version":"current","frontMatter":{"title":"ITM_MST - Item Master","tags":["sql","message-processing","scripts","sdm","host-messages"]},"sidebar":"techStack","previous":{"title":"Host Messages","permalink":"/DocE80/docs/category/host-messages-2"},"next":{"title":"RET_CNL - Retrieval Cancel","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/RET_CNL"}}');var r=s(4848),i=s(8453);const a={title:"ITM_MST - Item Master",tags:["sql","message-processing","scripts","sdm","host-messages"]},o=void 0,l={},m=[{value:"Overview",id:"overview",level:2},{value:"Trigger",id:"trigger",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Example: Processing a <code>ITM_MST</code> Message",id:"example-processing-a-itm_mst-message",level:2},{value:"XML Example",id:"xml-example",level:2}];function c(t){const e={br:"br",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Source:"})," ",(0,r.jsx)(e.code,{children:"HOST"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Destination:"})," ",(0,r.jsx)(e.code,{children:"SDM"})]}),"\n",(0,r.jsx)(e.p,{children:"The ITM_MST message is sent by the HOST system to notify SDM of newly created or modified items and SKUs, ensuring that master data remains synchronized across both systems; when received, SDM updates item and SKU records according to the latest information, while preserving all existing stock units unchanged so that any inventory already created with a previous SKU configuration retains its original attributes for full traceability."}),"\n",(0,r.jsx)(e.h2,{id:"trigger",children:"Trigger"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Insertion of new items or SKUs:"}),(0,r.jsx)(e.br,{}),"\n","A new item or SKU is created in the HOST master-data system."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Modification of existing items or SKUs:"}),(0,r.jsx)(e.br,{}),"\n","Any change to item or SKU attributes\u2014such as dimensions, weight, GTIN, descriptions, shelf\u2011life parameters, or packaging information\u2014automatically triggers an update message to SDM."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"expected-behavior",children:"Expected Behavior"}),"\n",(0,r.jsxs)(e.p,{children:["Upon receiving an ",(0,r.jsx)(e.code,{children:"ITM_MST"})," message:"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["SDM ",(0,r.jsx)(e.strong,{children:"updates all affected items and SKUs"})," using the new master\u2011data values provided by the HOST system."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Existing stock units remain unchanged"}),", preserving the attributes they had at the time of creation."]}),"\n",(0,r.jsxs)(e.li,{children:["Only master\u2011data tables are updated, ensuring that inventory already in the warehouse ",(0,r.jsx)(e.strong,{children:"retains historical accuracy and full traceability"}),"."]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"example-processing-a-itm_mst-message",children:["Example: Processing a ",(0,r.jsx)(e.code,{children:"ITM_MST"})," Message"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",metastring:'title="Simulate ITM_MST processing"',children:"--SET TRANSACTION ISOLATION LEVEL READ COMMITTED\r\nDECLARE\t@return_value Int,\r\n\t\t@XmlReplyMessage xml,\r\n\t\t@ResultCode INT,\r\n\t\t@ResultText NVARCHAR(max)\r\n\r\nDECLARE @ROLLBACK\t\t\tBIT = 1\r\n\r\nbegin tran\r\n\r\n\r\nEXEC\t@return_value = [Integration].[usp_ProcessHostMessage_ITM_MST]\r\n\t\t@XmlMessage = \r\n\t\tN'<Document>\r\n\t\t\t<Header>\r\n\t\t\t\t<Sender>Host</Sender>\r\n\t\t\t\t<Receiver>E80</Receiver>\r\n\t\t\t\t<SendDate>2025-12-12T09:32:25+02:00</SendDate>\r\n\t\t\t\t<MessageType>ITM_MST</MessageType>\r\n\t\t\t\t<MessageId>12345</MessageId>\r\n\t\t\t</Header>\r\n\t\t\t<Body>\r\n\t\t\t<Items>\r\n\t\t\t\t<Item>\r\n\t\t\t\t\t<Item>55501</Item>\r\n\t\t\t\t\t<LegacyItemName>999002</LegacyItemName>\r\n\t\t\t\t\t<ItemType>ZFIN</ItemType>\r\n\t\t\t\t\t<ItemDescription>999002</ItemDescription>\r\n\t\t\t\t\t<ItemClass>AGN</ItemClass>\r\n\t\t\t\t\t<ItemWeekToExpiry>15</ItemWeekToExpiry>\r\n\t\t\t\t\t<ItemWeekSTS>7</ItemWeekSTS>\r\n\t\t\t\t\t<ItemWeekSTT>10</ItemWeekSTT>\r\n\t\t\t\t\t<ItemEquivalenceDays>6</ItemEquivalenceDays>\r\n\t\t\t\t\t<ItemLength>11</ItemLength>\r\n\t\t\t\t\t<ItemWidth>16</ItemWidth>\r\n\t\t\t\t\t<ItemHeight>8</ItemHeight>\r\n\t\t\t\t\t<ItemWeight>28</ItemWeight>\r\n\t\t\t\t\t<ItemUom>PA</ItemUom>\r\n\t\t\t\t\t<ItemBrand>Pepsi</ItemBrand>\r\n\t\t\t\t\t<ItemVelocity>A</ItemVelocity>\r\n\t\t\t\t\t<Skus>\r\n\t\t\t\t\t\t<Sku>\r\n\t\t\t\t\t\t\t<SkuName>980050</SkuName>\r\n\t\t\t\t\t\t\t<SkuDescription>980050</SkuDescription>\r\n\t\t\t\t\t\t\t<SkuLoadAid>WOOD</SkuLoadAid>\r\n\t\t\t\t\t\t\t<SkuLength>48</SkuLength>\r\n\t\t\t\t\t\t\t<SkuHeight>70</SkuHeight>\r\n\t\t\t\t\t\t\t<SkuWidth>40</SkuWidth>\r\n\t\t\t\t\t\t\t<SkuWeight>2000</SkuWeight>\r\n\t\t\t\t\t\t\t<SkuQuantity>50</SkuQuantity>\r\n\t\t\t\t\t\t\t<SkuGTIN>10019000012249</SkuGTIN>\r\n\t\t\t\t\t\t\t<SkuMaxStackHeight>1</SkuMaxStackHeight>\r\n\t\t\t\t\t\t</Sku>\r\n\t\t\t\t\t</Skus>\r\n\t\t\t\t</Item>\r\n\t\t\t</Items>\r\n\t\t</Body>\r\n\t\t</Document>',\r\n\r\n\r\n\t\t@XmlReplyMessage = @XmlReplyMessage OUTPUT,\r\n\t\t@ResultCode = @ResultCode OUT,\r\n\t\t@ResultText = @ResultText OUT\r\n\r\nSELECT\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\r\nSELECT\t@return_value as 'Return Value', @ResultCode ResultCode, @ResultText ResultText\r\n\r\nselect TOP 1 'Item', * from Inventory.Item ORDER BY LastUpdateDateTime DESC\r\nselect TOP 1 'Sku', * from Inventory.Sku ORDER BY LastUpdateDateTime DESC\r\n\r\n\r\n\r\n\r\nIF @ROLLBACK = 1\r\n\trollback\r\nELSE\r\n\tcommit\r\nGO\r\n\n"})}),"\n",(0,r.jsx)(e.h2,{id:"xml-example",children:"XML Example"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",metastring:'title="ITM_MST xml template"',children:"<Document>\r\n  <Header>\r\n    <Sender>HOST</Sender>\r\n    <Receiver>SDM</Receiver>\r\n    <SendDate>2013-04-08T09:32:25+02.00</SendDate>\r\n    <MessageType>ITM_MST</MessageType>\r\n    <MessageId>12345</MessageId>\r\n  </Header>\r\n  <Body>\r\n    <Items>\r\n      <Item>\r\n        <ItemName>101060</ItemName>\r\n        <ItemDescription>Item 101060 description</ItemDescription>\r\n        <ItemExtendedDescription>Item 101060 extended description</ItemExtendedDescription>\r\n        <ItemGTIN>08121001010101</ItemGTIN>\r\n        <ItemLength>0.31</ItemLength >\r\n        <ItemWidth>0.40</ItemWidth>\r\n        <ItemHeight>0.37</ItemHeight>\r\n        <ItemWeight>4.40</ItemWeight>\r\n        <ItemQuantity>4.40</ItemQuantity>\r\n        <ItemUom>Pieces</ItemUom>\r\n        <ItemUomPackage>Cases</ItemUomPackage>\r\n        <ItemIncubationDays>20</ItemIncubationDays>\r\n        <ItemDaysToExpiry>60</ItemDaysToExpiry>\r\n        <ItemShelflife>350</ItemShelflife>\r\n        <ItemEquivalenceDays>2</ItemEquivalenceDays>\r\n        <SkuName>101060A</SkuName>\r\n        <SkuDescription>Sku 101060 A description</SkuDescription>\r\n        <SkuLoadAid>EURO</SkuLoadAid>\r\n        <SkuLength>140</SkuLength>\r\n        <SkuWidth>140</SkuWidth>\r\n        <SkuHeight>140</SkuHeight>\r\n        <SkuWeight>140</SkuWeight>\r\n        <SkuQuantity>140</SkuQuantity>\r\n        <SkuLayers>2</SkuLayers>\r\n        <SkuGTIN>10210012101145</SkuGTIN>\r\n        <SkuStability>9</SkuStability>\r\n        <SkuMaxStackHeight>1</SkuMaxStackHeight>\r\n      </Item>\r\n     </Items>\r\n  </Body>\r\n</Document>\r\n\r\n\n"})})]})}function d(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(c,{...t})}):c(t)}},8453:(t,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var n=s(6540);const r={},i=n.createContext(r);function a(t){const e=n.useContext(i);return n.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:a(t.components),n.createElement(i.Provider,{value:e},t.children)}}}]);