"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8455],{2802:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Utilities/Scripts/Messages/HostMessages/SU_CHG","title":"SU_CHG - Stock Unit Change","description":"Overview","source":"@site/docs/Utilities/Scripts/Messages/HostMessages/SU_CHG.md","sourceDirName":"Utilities/Scripts/Messages/HostMessages","slug":"/Utilities/Scripts/Messages/HostMessages/SU_CHG","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/SU_CHG","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"sql","permalink":"/DocE80/docs/tags/sql"},{"inline":true,"label":"message-processing","permalink":"/DocE80/docs/tags/message-processing"},{"inline":true,"label":"scripts","permalink":"/DocE80/docs/tags/scripts"},{"inline":true,"label":"sdm","permalink":"/DocE80/docs/tags/sdm"},{"inline":true,"label":"host-messages","permalink":"/DocE80/docs/tags/host-messages"}],"version":"current","frontMatter":{"title":"SU_CHG - Stock Unit Change","tags":["sql","message-processing","scripts","sdm","host-messages"]},"sidebar":"techStack","previous":{"title":"SHP_INS - Shipment Insert / Update","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/SHP_INS"},"next":{"title":"SU_DATA - Stock Unit Creation","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/SU_DATA"}}');var r=t(4848),i=t(8453);const o={title:"SU_CHG - Stock Unit Change",tags:["sql","message-processing","scripts","sdm","host-messages"]},a=void 0,l={},c=[{value:"Overview",id:"overview",level:2},{value:"Trigger",id:"trigger",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Example: Processing a <code>SU_CHG</code> Message",id:"example-processing-a-su_chg-message",level:2},{value:"XML Example",id:"xml-example",level:2}];function d(e){const s={br:"br",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Source:"})," ",(0,r.jsx)(s.code,{children:"HOST"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.strong,{children:"Destination:"})," ",(0,r.jsx)(s.code,{children:"SDM"})]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"SU_CHG"})," message is sent by the HOST system to update the properties of one or more stock units in SDM. These updates apply to stock units identified by LPN, Lot, or Item, allowing HOST to modify operational attributes while ensuring that SDM reflects the most current stock\u2011unit information required for warehouse processes."]}),"\n",(0,r.jsx)(s.h2,{id:"trigger",children:"Trigger"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Change of stock\u2011unit properties:"}),(0,r.jsx)(s.br,{}),"\n","HOST modifies one or more attributes of stock units, determined by LPN, Lot, or Item references."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"expected-behavior",children:"Expected Behavior"}),"\n",(0,r.jsxs)(s.p,{children:["Upon receiving an ",(0,r.jsx)(s.code,{children:"SU_CHG"})," message:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["SDM ",(0,r.jsx)(s.strong,{children:"updates the properties of the affected stock units"})," based on the identifying criteria (LPN, Lot, or Item)."]}),"\n",(0,r.jsx)(s.li,{children:"Only the specified stock\u2011unit records are modified, ensuring targeted and controlled updates."}),"\n",(0,r.jsx)(s.li,{children:"SDM maintains data consistency so that all operational processes use the updated stock\u2011unit attributes."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"example-processing-a-su_chg-message",children:["Example: Processing a ",(0,r.jsx)(s.code,{children:"SU_CHG"})," Message"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",metastring:'title="Simulate SU_CHG processing"',children:"SET TRANSACTION ISOLATION LEVEL READ COMMITTED\r\nDECLARE\t@return_value Int,\r\n\t\t@XmlReplyMessage xml,\r\n\t\t@ResultCode INT,\r\n\t\t@ResultText NVARCHAR(max)\r\n\r\n\r\nbegin tran\r\n\r\n\r\n\r\nEXEC\t@return_value = [Integration].[usp_ProcessHostMessage_SU_CHG]\r\n\t\t@XmlMessage = \r\n        N'<Document>\r\n            <Header>\r\n                <Sender>HOST</Sender>\r\n                <Receiver>E80</Receiver>\r\n                <SendDate>2025-12-12T18:05:38+02:00</SendDate>\r\n                <MessageType>SU_CHG</MessageType>\r\n                <MessageId>12345</MessageId>\r\n            </Header>\r\n            <Body>\r\n                <Item>10007</Item>\r\n                <QAStatus>RESTRICTED</QAStatus>\r\n                <Lot>202510007</Lot>\r\n            </Body>\r\n        </Document>',\r\n\r\n\r\n\t\t@XmlReplyMessage = @XmlReplyMessage OUTPUT,\r\n\t\t@ResultCode = @ResultCode OUT,\r\n\t\t@ResultText = @ResultText OUT\r\n\r\nSELECT\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\r\nSELECT\t@return_value as 'Return Value', @ResultCode ResultCode, @ResultText ResultText\r\n\r\n\r\n\r\nselect 'StockUnit', * from Inventory.StockUnit\r\nselect 'StockUnitPart', * from Inventory.StockUnitPart WHERE Id_Item = 58 ORDER BY LastUpdateDateTime\r\nselect 'Lot', * from Inventory.Lot\r\n\r\nrollback tran\r\n\r\n\n"})}),"\n",(0,r.jsx)(s.h2,{id:"xml-example",children:"XML Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",metastring:'title="SU_CHG xml template"',children:"<Document>\r\n <Header>\r\n    <Sender>HOST</Sender>\r\n    <Receiver>E80</Receiver>\r\n    <SendDate>2012-09-12 18:05:38+02.00</SendDate>\r\n    <MessageType>SU_CHG</MessageType>\r\n    <MessageId>12345</MessageId>\r\n  </Header>\r\n  <Body>\r\n    <CurrentLPN>123132183</CurrentLPN>\r\n    <CurrentItem>ITM01</CurrentItem>\r\n    <CurrentLot>LOT01</CurrentLot>\r\n    <LPN>123132183</LPN>\r\n    <Item>ITM02</Item>\r\n    <Lot>LOT01</Lot>\r\n    <Quantity>10</Quantity>\r\n    <ExpireDate>2015-05-01</ExpireDate>\r\n    <ProductionDate>2015-01-19</ProductionDate>\r\n    <LoadAidType>EURO</LoadAidType>\r\n    <QualityStatus>AV</QualityStatus>\r\n  </Body>\r\n</Document>\n"})})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(6540);const r={},i=n.createContext(r);function o(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);