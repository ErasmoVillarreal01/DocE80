"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[5530],{6380:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"Utilities/Scripts/Use Cases/Messages/EnqueueHostMessage","title":"Enqueue Message","description":"Procedure to enqueue host incoming messages.","source":"@site/docs/Utilities/Scripts/Use Cases/Messages/EnqueueHostMessage.md","sourceDirName":"Utilities/Scripts/Use Cases/Messages","slug":"/Utilities/Scripts/Use Cases/Messages/EnqueueHostMessage","permalink":"/DocE80/docs/Utilities/Scripts/Use Cases/Messages/EnqueueHostMessage","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"sql","permalink":"/DocE80/docs/tags/sql"},{"inline":true,"label":"message-processing","permalink":"/DocE80/docs/tags/message-processing"},{"inline":true,"label":"scripts","permalink":"/DocE80/docs/tags/scripts"},{"inline":true,"label":"sdm","permalink":"/DocE80/docs/tags/sdm"},{"inline":true,"label":"host-messages","permalink":"/DocE80/docs/tags/host-messages"}],"version":"current","frontMatter":{"title":"Enqueue Message","tags":["sql","message-processing","scripts","sdm","host-messages"]},"sidebar":"techStack","previous":{"title":"Messages","permalink":"/DocE80/docs/category/messages-5"},"next":{"title":"Warehouse","permalink":"/DocE80/docs/category/warehouse-2"}}');var r=s(4848),a=s(8453);const i={title:"Enqueue Message",tags:["sql","message-processing","scripts","sdm","host-messages"]},o=void 0,c={},m=[];function u(t){const e={code:"code",p:"p",pre:"pre",...(0,a.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"Procedure to enqueue host incoming messages."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",metastring:'title="Enqueue Host Incoming Message"',children:"\r\nBEGIN TRAN\r\n\r\nDECLARE @RC int\r\nDECLARE @MessageText nvarchar(max)\r\nDECLARE @ProcessedMessages BIGINT\r\n\r\n\r\n-- TODO: Set parameter values here.\r\n\r\nSET @MessageText = \r\n\r\nN'<Document>\r\n\t\t\t<Header>\r\n\t\t\t\t<Sender>Host</Sender>\r\n\t\t\t\t<Receiver>E80</Receiver>\r\n\t\t\t\t<SendDate>2026-02-20T14:35:25+02:00</SendDate>\r\n\t\t\t\t<MessageType>ITM_MST</MessageType>\r\n\t\t\t\t<MessageId>12345</MessageId>\r\n\t\t\t</Header>\r\n\t\t\t<Body>\r\n\t\t\t<Items>\r\n\t\t\t\t<Item>\r\n\t\t\t\t\t<Item>55002</Item>\r\n\t\t\t\t\t<LegacyItemName>55001</LegacyItemName>\r\n\t\t\t\t\t<ItemType>ZFIN</ItemType>\r\n\t\t\t\t\t<ItemDescription>55001</ItemDescription>\r\n\t\t\t\t\t<ItemClass>AGN</ItemClass>\r\n\t\t\t\t\t<ItemWeekToExpiry>15</ItemWeekToExpiry>\r\n\t\t\t\t\t<ItemWeekSTS>7</ItemWeekSTS>\r\n\t\t\t\t\t<ItemWeekSTT>10</ItemWeekSTT>\r\n\t\t\t\t\t<ItemEquivalenceDays>6</ItemEquivalenceDays>\r\n\t\t\t\t\t<ItemLength>11</ItemLength>\r\n\t\t\t\t\t<ItemWidth>16</ItemWidth>\r\n\t\t\t\t\t<ItemHeight>8</ItemHeight>\r\n\t\t\t\t\t<ItemWeight>28</ItemWeight>\r\n\t\t\t\t\t<ItemUom>PA</ItemUom>\r\n\t\t\t\t\t<ItemBrand>Pepsi</ItemBrand>\r\n\t\t\t\t\t<ItemVelocity>A</ItemVelocity>\r\n\t\t\t\t\t<Skus>\r\n\t\t\t\t\t\t<Sku>\r\n\t\t\t\t\t\t\t<SkuName>5544001</SkuName>\r\n\t\t\t\t\t\t\t<SkuDescription>5544001</SkuDescription>\r\n\t\t\t\t\t\t\t<SkuLoadAid>WOOD</SkuLoadAid>\r\n\t\t\t\t\t\t\t<SkuLength>48</SkuLength>\r\n\t\t\t\t\t\t\t<SkuHeight>7099</SkuHeight>\r\n\t\t\t\t\t\t\t<SkuWidth>40</SkuWidth>\r\n\t\t\t\t\t\t\t<SkuWeight>2000</SkuWeight>\r\n\t\t\t\t\t\t\t<SkuQuantity>50</SkuQuantity>\r\n\t\t\t\t\t\t\t<SkuGTIN>10019000012249</SkuGTIN>\r\n\t\t\t\t\t\t\t<SkuMaxStackHeight>1</SkuMaxStackHeight>\r\n\t\t\t\t\t\t</Sku>\r\n\t\t\t\t\t</Skus>\r\n\t\t\t\t</Item>\r\n\t\t\t</Items>\r\n\t\t</Body>\r\n\t\t</Document>'\r\n\r\nEXECUTE @RC = [Integration].[usp_EnqueueHostInboundMessage] \r\n   @MessageText\r\n\r\n\r\n\r\n --EXECUTE [Integration].[usp_ProcessHostInboundMessages]\r\n --    @ProcessedMessages OUTPUT\r\n\r\n\r\n\r\nSELECT * FROM Integration.HostIncomingMessage ORDER BY InsertDateTime DESC\r\n--SELECT ResultText, * FROM Historical.HostIncomingMessage ORDER BY InsertDateTime DESC\r\n\r\n---------------------\r\n---------------------\r\n--SELECT TOP 1* FROM Integration.HostOutgoingMessage ORDER BY InsertDateTime DESC\r\n--SELECT * FROM Historical.HostOutgoingMessage ORDER BY InsertDateTime DESC\r\n\r\n\r\n--SELECT TOP 1 [Name] FROM Inventory.Item ORDER BY InsertDateTime DESC\r\n--SELECT [Name] FROM Inventory.Sku ORDER BY InsertDateTime DESC\r\n\r\nROLLBACK TRAN\r\n\r\n\r\n\n"})})]})}function g(t={}){const{wrapper:e}={...(0,a.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(u,{...t})}):u(t)}},8453:(t,e,s)=>{s.d(e,{R:()=>i,x:()=>o});var n=s(6540);const r={},a=n.createContext(r);function i(t){const e=n.useContext(a);return n.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:i(t.components),n.createElement(a.Provider,{value:e},t.children)}}}]);