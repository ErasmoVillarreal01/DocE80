"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1121],{7785:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Utilities/Scripts/Messages/HostMessages/SU_DATA","title":"SU_DATA - Stock Unit Creation","description":"Overview","source":"@site/docs/Utilities/Scripts/Messages/HostMessages/SU_DATA.md","sourceDirName":"Utilities/Scripts/Messages/HostMessages","slug":"/Utilities/Scripts/Messages/HostMessages/SU_DATA","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/SU_DATA","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"sql","permalink":"/DocE80/docs/tags/sql"},{"inline":true,"label":"message-processing","permalink":"/DocE80/docs/tags/message-processing"},{"inline":true,"label":"scripts","permalink":"/DocE80/docs/tags/scripts"},{"inline":true,"label":"sdm","permalink":"/DocE80/docs/tags/sdm"},{"inline":true,"label":"host-messages","permalink":"/DocE80/docs/tags/host-messages"}],"version":"current","frontMatter":{"title":"SU_DATA - Stock Unit Creation","tags":["sql","message-processing","scripts","sdm","host-messages"]},"sidebar":"techStack","previous":{"title":"SU_CHG - Stock Unit Change","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/SU_CHG"},"next":{"title":"Host Messages Processing Scripts","permalink":"/DocE80/docs/Utilities/Scripts/Messages/HostMessages/intro"}}');var r=s(4848),i=s(8453);const a={title:"SU_DATA - Stock Unit Creation",tags:["sql","message-processing","scripts","sdm","host-messages"]},o=void 0,l={},c=[{value:"Overview",id:"overview",level:2},{value:"Trigger",id:"trigger",level:2},{value:"Expected Behavior",id:"expected-behavior",level:2},{value:"Example: Processing a <code>SU_DATA</code> Message",id:"example-processing-a-su_data-message",level:2},{value:"XML Example",id:"xml-example",level:2}];function d(e){const t={br:"br",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Source:"})," ",(0,r.jsx)(t.code,{children:"HOST"}),(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.strong,{children:"Destination:"})," ",(0,r.jsx)(t.code,{children:"SDM"})]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"SU_DATA"})," message is sent by the HOST system to instruct SDM to create a new stock unit within the warehouse. This message provides the necessary attributes\u2014such as LPN, item, lot information, quantities, and other operational data\u2014allowing SDM to register the stock unit in its inventory model and make it available for all warehouse processes."]}),"\n",(0,r.jsx)(t.h2,{id:"trigger",children:"Trigger"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"New stock unit creation request:"}),(0,r.jsx)(t.br,{}),"\n","HOST sends detailed stock\u2011unit information that must be created in SDM."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"expected-behavior",children:"Expected Behavior"}),"\n",(0,r.jsxs)(t.p,{children:["Upon receiving an ",(0,r.jsx)(t.code,{children:"SU_DATA"})," message:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["SDM ",(0,r.jsx)(t.strong,{children:"creates a new stock unit"})," using the attributes supplied in the message (e.g., LPN, Item, Lot, Quantity, Status)."]}),"\n",(0,r.jsxs)(t.li,{children:["The stock unit becomes ",(0,r.jsx)(t.strong,{children:"available for warehouse operations"}),", including storage, retrieval and shipping ."]}),"\n",(0,r.jsx)(t.li,{children:"SDM ensures that all mandatory data elements are validated and stored consistently in the inventory model."}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.h2,{id:"example-processing-a-su_data-message",children:["Example: Processing a ",(0,r.jsx)(t.code,{children:"SU_DATA"})," Message"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sql",metastring:'title="Simulate SU_DATA processing"',children:"\r\nSET TRANSACTION ISOLATION LEVEL READ COMMITTED\r\nDECLARE\t@return_value Int,\r\n\t\t@XmlReplyMessage xml,\r\n\t\t@ResultCode INT,\r\n\t\t@ResultText NVARCHAR(max)\r\n\r\n\r\nbegin tran\r\n\r\nDECLARE @ROLLBACK\t\t\tBIT = 0\r\n\r\n\r\nEXEC\t@return_value = [Integration].[usp_ProcessHostMessage_SU_DATA]\r\n\t\t@XmlMessage = \r\n\t\tN'<Document>\r\n\t\t\t<Header>\r\n\t\t\t\t<Sender>HOST</Sender>\r\n\t\t\t\t<Receiver>E80</Receiver>\r\n\t\t\t\t<SendDate>2025-12-12T18:05:38+02:00</SendDate>\r\n\t\t\t\t<MessageType>SU_DATA</MessageType>\r\n\t\t\t\t<MessageId>12345</MessageId>\r\n\t\t\t</Header>\r\n\t\t\t<Body>\r\n\t\t\t\t<Item>1010</Item>\r\n\t\t\t\t<Lot>LOTXEP0025</Lot>\r\n\t\t\t\t<LPN>202602200856</LPN>\r\n\t\t\t\t<SourceLocation>IBC01</SourceLocation>\r\n\t\t\t\t<LoadAidType>10010</LoadAidType>\r\n\t\t\t\t<QAStatus>UNRESTRICTED</QAStatus>\r\n\t\t\t\t<Quantity>60</Quantity>\r\n\t\t\t\t<ExpirationDate>20271227</ExpirationDate>\r\n\t\t\t</Body>\r\n\t\t</Document>',\r\n\r\n\r\n\t\t@XmlReplyMessage = @XmlReplyMessage OUTPUT,\r\n\t\t@ResultCode = @ResultCode OUT,\r\n\t\t@ResultText = @ResultText OUT\r\n\r\nSELECT\t@XmlReplyMessage as N'@XmlReplyMessage'\r\n\r\nSELECT\t@return_value as 'Return Value', @ResultCode ResultCode, @ResultText ResultText\r\n\r\n\r\n\r\nselect TOP 1 'StockUnit', * from Inventory.StockUnit order by lastupdateDateTime desc\r\nselect TOP 1 'StockUnitPart', * from Inventory.StockUnitPart order by LastUpdateDateTime desc\r\nselect TOP 1 'Lot', * from Inventory.Lot WHERE Id = (select TOP 1 Id_Lot from Inventory.StockUnitPart order by LastUpdateDateTime desc\r\n)\r\n\r\nselect 'StockUnitStorage', * from Warehouse.StockUnitStorage where IdStockUnit = (select top 1 Id from Inventory.StockUnit order by LastUpdateDateTime desc)\r\n\r\nselect 'ContainerName', * from Warehouse.ContainerName where IdContainer in (\r\n\tselect IdContainer from Warehouse.StockUnitStorage where IdStockUnit = (select top 1 Id from Inventory.StockUnit order by LastUpdateDateTime desc)\r\n)\r\n\r\n\r\n\r\nIF @ROLLBACK = 1\r\n\trollback\r\nELSE\r\n\tcommit\r\nGO\r\n\r\n\r\n\n"})}),"\n",(0,r.jsx)(t.h2,{id:"xml-example",children:"XML Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",metastring:'title="SU_DATA xml template"',children:"<Document>\r\n\t\t\t<Header>\r\n\t\t\t\t<Sender>HOST</Sender>\r\n\t\t\t\t<Receiver>E80</Receiver>\r\n\t\t\t\t<SendDate>2025-12-12T18:05:38+02:00</SendDate>\r\n\t\t\t\t<MessageType>SU_DATA</MessageType>\r\n\t\t\t\t<MessageId>12345</MessageId>\r\n\t\t\t</Header>\r\n\t\t\t<Body>\r\n\t\t\t\t<Item>1010</Item>\r\n\t\t\t\t<Lot>LOTXEP0025</Lot>\r\n\t\t\t\t<LPN>202602200856</LPN>\r\n\t\t\t\t<SourceLocation>IBC01</SourceLocation>\r\n\t\t\t\t<LoadAidType>10010</LoadAidType>\r\n\t\t\t\t<QAStatus>UNRESTRICTED</QAStatus>\r\n\t\t\t\t<Quantity>60</Quantity>\r\n\t\t\t\t<ExpirationDate>20271227</ExpirationDate>\r\n\t\t\t</Body>\r\n\t\t</Document>'\n"})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(6540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);