<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-BFF/CreateNewApi" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">YETR | PC SW Developer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://erasmovillarreal01.github.io/DocE80/docs/BFF/CreateNewApi"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="YETR | PC SW Developer"><meta data-rh="true" name="description" content="This page will talk about the different steps and requirments needed to create a page from scratch."><meta data-rh="true" property="og:description" content="This page will talk about the different steps and requirments needed to create a page from scratch."><link data-rh="true" rel="icon" href="/DocE80/img/e80icon.ico"><link data-rh="true" rel="canonical" href="https://erasmovillarreal01.github.io/DocE80/docs/BFF/CreateNewApi"><link data-rh="true" rel="alternate" href="https://erasmovillarreal01.github.io/DocE80/docs/BFF/CreateNewApi" hreflang="en"><link data-rh="true" rel="alternate" href="https://erasmovillarreal01.github.io/DocE80/docs/BFF/CreateNewApi" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"YETR","item":"https://erasmovillarreal01.github.io/DocE80/docs/BFF/CreateNewApi"}]}</script><link rel="stylesheet" href="/DocE80/assets/css/styles.e6fff721.css">
<script src="/DocE80/assets/js/runtime~main.1974c22a.js" defer="defer"></script>
<script src="/DocE80/assets/js/main.6d336e12.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DocE80/"><b class="navbar__title text--truncate">PC</b></a><a class="navbar__item navbar__link" href="/DocE80/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/DocE80/queries/intro">Queries</a><a class="navbar__item navbar__link" href="/DocE80/techStack/intro">Tech Stack</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ErasmoVillarreal01/DocE80" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DocE80/docs/intro"><span title="Welcome" class="linkLabel_WmDU">Welcome</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/DocE80/docs/BFF/front"><span title="BFF" class="categoryLinkLabel_W154">BFF</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DocE80/docs/BFF/front"><span title="FrontEnd UI" class="linkLabel_WmDU">FrontEnd UI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DocE80/docs/BFF/Controller"><span title="Controller" class="linkLabel_WmDU">Controller</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/DocE80/docs/BFF/CreateNewApi"><span title="YETR" class="linkLabel_WmDU">YETR</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DocE80/docs/BFF/Model"><span title="Where Models Are Used" class="linkLabel_WmDU">Where Models Are Used</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DocE80/docs/BFF/Service"><span title="Service" class="linkLabel_WmDU">Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DocE80/docs/BFF/Swagger"><span title="Swagger" class="linkLabel_WmDU">Swagger</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DocE80/docs/LGVM/intro"><span title="LGVM" class="categoryLinkLabel_W154">LGVM</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DocE80/docs/SDM/intro"><span title="SDM" class="categoryLinkLabel_W154">SDM</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DocE80/docs/TS/intro"><span title="TS" class="categoryLinkLabel_W154">TS</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DocE80/docs/Utilities/Commit to Devops"><span title="Utilities" class="categoryLinkLabel_W154">Utilities</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/DocE80/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">BFF</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">YETR</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>YETR</h1></header>
<p>This page will talk about the different steps and requirments needed to create a page from scratch.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-define-the-webui-page-functionality"><strong>Step 1: Define the WebUI Page Functionality</strong><a href="#step-1-define-the-webui-page-functionality" class="hash-link" aria-label="Direct link to step-1-define-the-webui-page-functionality" title="Direct link to step-1-define-the-webui-page-functionality" translate="no">​</a></h2>
<p>Before any development begins, the analyst should clearly determine the expected behavior of the WebUI page.</p>
<p>To do this, the following guiding questions must be answered:</p>
<ol>
<li class="">
<p><strong>What is the expected behavior of the page?</strong><br>
<!-- -->Identify its main purpose and what the user should accomplish with it.</p>
</li>
<li class="">
<p><strong>Will the page only display data, or will it allow actions such as adding, editing, or deleting records?</strong><br>
<!-- -->This defines whether backend procedures will be required.</p>
</li>
<li class="">
<p><strong>Which elements must be visible on the page?</strong><br>
<!-- -->List all fields, tables, filters, buttons, and dynamic sections needed.</p>
</li>
<li class="">
<p><strong>What layout structure will the new page follow?</strong><br>
<!-- -->Examples include:</p>
<ul>
<li class="">Fixed one‑section layout</li>
<li class="">Fixed two‑section layout</li>
<li class="">Fixed three‑section layout</li>
<li class="">Any custom arrangement required by the design</li>
</ul>
</li>
<li class="">
<p><strong>Will buttons or additional features be necessary?</strong><br>
<!-- -->Consider actions such as “Save,” “Delete,” “Export,” “Refresh,” or any other interactive functionality.</p>
</li>
</ol>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-create-the-required-stored-procedures"><strong>Step 2: Create the required Stored Procedure(s)</strong><a href="#step-2-create-the-required-stored-procedures" class="hash-link" aria-label="Direct link to step-2-create-the-required-stored-procedures" title="Direct link to step-2-create-the-required-stored-procedures" translate="no">​</a></h2>
<p><em>(Applicable when the page performs actions other than simply displaying data.)</em></p>
<p>If the WebUI page needs to execute an operation — such as inserting, updating, deleting, or executing logic — a dedicated stored procedure must be created.</p>
<p>The procedure should contain <strong>all logic required for the corresponding action</strong>, ensuring that the WebUI receives a consistent and structured response.</p>
<p>A typical execution pattern is shown below.<br>
<!-- -->Note that BFF endpoints commonly return the result content in <strong>XML format</strong>, using <code>ResultText</code> as the output variable.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultCode</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultText</span><span class="token plain"> XML </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">EXEC</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">SCHEMA_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">PROCEDURE_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token variable" style="color:rgb(191, 199, 213)">@Variable_1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;`VALUE_1`&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token variable" style="color:rgb(191, 199, 213)">@Variable_N</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;`VALUE_N`&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultCode</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultCode</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultText</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">@ResultText</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-create-the-required-views"><strong>Step 3: Create the Required View(s)</strong><a href="#step-3-create-the-required-views" class="hash-link" aria-label="Direct link to step-3-create-the-required-views" title="Direct link to step-3-create-the-required-views" translate="no">​</a></h2>
<p><em>(Views are used exclusively for data retrieval and presentation.)</em></p>
<p>For each section defined in the selected layout, a dedicated view must be created.<br>
<!-- -->Each view should expose only the variables and fields necessary to display the required information on the WebUI page. Each view must have a variable called Id.</p>
<p>Only <strong>one view per layout section</strong> should be created to maintain clarity, modularity, and ease of maintenance.</p>
<p>A standard view definition follows the structure shown below:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VIEW</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">SCHEMA_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">VIEW_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    t1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    t2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Id </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> IdTable2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    t1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">SCHEMA_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">TABLE_NAME_1</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> t1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LEFT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">JOIN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">SCHEMA_NAME</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">TABLE_NAME_2</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> t2 </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">ON</span><span class="token plain"> t1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Id </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> t2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Id_Table1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> t2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Id </span><span class="token operator" style="color:rgb(137, 221, 255)">IS</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-update-dbcontextcs"><strong>Step 4: Update <code>DbContext.cs</code></strong><a href="#step-4-update-dbcontextcs" class="hash-link" aria-label="Direct link to step-4-update-dbcontextcs" title="Direct link to step-4-update-dbcontextcs" translate="no">​</a></h2>
<p><em>(From this step forward, all actions take place in the BFF code unless stated otherwise.)</em></p>
<p>To expose the newly created views to the BFF project, the Entity Framework context must be updated.<br>
<!-- -->The following procedure must be repeated <strong>for each view</strong> created in Step 3.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="41-prepare-the-dbcontext-for-the-update"><strong>4.1 Prepare the DbContext for the Update</strong><a href="#41-prepare-the-dbcontext-for-the-update" class="hash-link" aria-label="Direct link to 41-prepare-the-dbcontext-for-the-update" title="Direct link to 41-prepare-the-dbcontext-for-the-update" translate="no">​</a></h3>
<ol>
<li class="">
<p>Navigate to the folder:<br>
<strong>SmileE80.Bff.Database → Context</strong></p>
</li>
<li class="">
<p>Rename the file:<br>
<code>BffDbContext.cs</code> → <code>BffDbContext_.cs</code><br>
<em>(This temporary rename prevents conflicts when scaffolding.)</em></p>
</li>
<li class="">
<p>Right‑click on the project <strong>SmileE80.Bff.Database</strong> and select: <strong>Set as Startup Project</strong></p>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="42-scaffold-the-new-view"><strong>4.2 Scaffold the New View</strong><a href="#42-scaffold-the-new-view" class="hash-link" aria-label="Direct link to 42-scaffold-the-new-view" title="Direct link to 42-scaffold-the-new-view" translate="no">​</a></h3>
<ol start="4">
<li class="">
<p>Open the Package Manager Console:<br>
<strong>Tools → NuGet Package Manager → Package Manager Console</strong><br>
<!-- -->Ensure the <strong>Default Project</strong> (shown at the top of the console) is:<br>
<strong>SmileE80.Bff.Database</strong></p>
</li>
<li class="">
<p>Execute the following command, replacing values inside brackets with your specific information:</p>
</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scaffold-DbContext &quot;Server=`DATABASE_API`;User ID=`USERNAME`;Password=`PASSWORD`;Database=`DATABSE_NAME`;MultipleActiveResultSets=true;Encrypt=True;TrustServerCertificate=True;&quot; Microsoft.EntityFrameworkCore.SqlServer -OutputDir &quot;Models&quot; -Context &quot;BffDbContext&quot; -DataAnnotations -Project &quot;SmileE80.Bff.Database&quot; -ContextDir &quot;Context&quot; -Tables &quot;`VIEW_NAME`&quot; -Force</span><br></span></code></pre></div></div>
<p>This command will generate a <strong>new <code>BffDbContext.cs</code></strong> file along with a model for the selected view.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="43-transfer-the-view-definitions"><strong>4.3 Transfer the View Definitions</strong><a href="#43-transfer-the-view-definitions" class="hash-link" aria-label="Direct link to 43-transfer-the-view-definitions" title="Direct link to 43-transfer-the-view-definitions" translate="no">​</a></h3>
<ol start="6">
<li class="">Open the newly generated <code>BffDbContext.cs</code>.<br>
<!-- -->Locate the autogenerated definitions for your view. They will resemble:</li>
</ol>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> DbSet</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">`VIEW_NAME`</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> `VIEW_NAMES` </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">modelBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token generic-method function" style="color:rgb(130, 170, 255)">Entity</span><span class="token generic-method generic class-name punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generic-method generic class-name" style="color:rgb(255, 203, 107)">`VIEW_NAME`</span><span class="token generic-method generic class-name punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entity </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ToView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;`VIEW_NAME`&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;`SCHEMA_NAME`&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token range operator" style="color:rgb(137, 221, 255)">..</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<ol start="7">
<li class="">Copy the relevant <code>DbSet</code> and <code>modelBuilder</code> sections and paste them into the renamed file: <strong><code>BffDbContext_.cs</code></strong></li>
</ol>
<p><em>(Only the parts related to the new view should be copied.)</em></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="44-finalize-the-context-update"><strong>4.4 Finalize the Context Update</strong><a href="#44-finalize-the-context-update" class="hash-link" aria-label="Direct link to 44-finalize-the-context-update" title="Direct link to 44-finalize-the-context-update" translate="no">​</a></h3>
<ol start="8">
<li class="">
<p>Delete the newly generated <code>BffDbContext.cs</code>.</p>
</li>
<li class="">
<p>Rename the file:<br>
<code>BffDbContext_.cs</code> → <code>BffDbContext.cs</code><br>
<em>(Restoring the context with the added view mappings.)</em></p>
</li>
</ol>
<blockquote>
<p>Inside the folder Models, the added views should appear.</p>
</blockquote>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-create-a-new-project-if-needed"><strong>Step 5: Create a New Project (if needed)</strong><a href="#step-5-create-a-new-project-if-needed" class="hash-link" aria-label="Direct link to step-5-create-a-new-project-if-needed" title="Direct link to step-5-create-a-new-project-if-needed" translate="no">​</a></h2>
<p><em>(If the target folder for your page already exists within an API project, <strong>skip this step</strong>.)</em></p>
<p>When a new API is required, create a dedicated ASP.NET Core project that will run under IIS.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="51-create-the-project"><strong>5.1 Create the Project</strong><a href="#51-create-the-project" class="hash-link" aria-label="Direct link to 51-create-the-project" title="Direct link to 51-create-the-project" translate="no">​</a></h3>
<ol>
<li class="">In Visual Studio: <strong>File → New → Project</strong></li>
<li class="">Choose <strong>ASP.NET Core Empty</strong> (C#).</li>
<li class="">Name the project following the convention:<br>
<code>SmilE80.Bff.PROJECT_NAME</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="52-create-the-base-folder-structure"><strong>5.2 Create the Base Folder Structure</strong><a href="#52-create-the-base-folder-structure" class="hash-link" aria-label="Direct link to 52-create-the-base-folder-structure" title="Direct link to 52-create-the-base-folder-structure" translate="no">​</a></h3>
<p>Inside the new project, create the following folders:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    SmilE80.Bff.`PROJECT_NAME`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     ├─ Controllers</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     ├─ Services</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     └─ Models</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         ├─ ReadModels</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         └─ WriteModels</span><br></span></code></pre></div></div>
<ul>
<li class=""><strong><a class="" href="/DocE80/docs/BFF/Model">Models</a></strong> → Classes used to <strong>shape input/output data</strong> for the API.</li>
<li class=""><strong><a class="" href="/DocE80/docs/BFF/Service">Services</a></strong> → Classes that <strong>encapsulate business logic</strong> and orchestration.</li>
<li class=""><strong><a class="" href="/DocE80/docs/BFF/Controller">Controllers</a></strong> → API endpoints that <strong>receive requests and return responses</strong>.</li>
</ul>
<blockquote>
<p><em>Tip:</em> Keep the naming consistent with the feature/page being implemented. Example: <code>PutawayOrderController</code>, <code>PutawayOrderService</code>, <code>PutawayOrderReadModel</code>.</p>
</blockquote>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-6-create-the-required-models"><strong>Step 6: Create the Required Model(s)</strong><a href="#step-6-create-the-required-models" class="hash-link" aria-label="Direct link to step-6-create-the-required-models" title="Direct link to step-6-create-the-required-models" translate="no">​</a></h2>
<p>The number and type of models depend on what was built in <strong>Step 2 (procedures)</strong> and <strong>Step 3 (views)</strong>:</p>
<ul>
<li class="">For <strong>views</strong> → create <strong>ReadModels</strong> (output).</li>
<li class="">For <strong>procedures</strong> → create <strong>WriteModels</strong> (input).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="61-readmodels-for-views"><strong>6.1 ReadModels (for views)</strong><a href="#61-readmodels-for-views" class="hash-link" aria-label="Direct link to 61-readmodels-for-views" title="Direct link to 61-readmodels-for-views" translate="no">​</a></h3>
<p>A <strong>ReadModel</strong> should include the <strong>fields returned by the view</strong> created in Step 3.<br>
<!-- -->If using AutoMapper with EF (entity framework) entities from <code>SmileE80.Bff.Database.Models</code>, annotate with <code>[AutoMap]</code>.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">AutoMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Bff</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Database</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ReadModels</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Maps to EF entity generated from [`SCHEMA_NAME`].[`VIEW_NAME`]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">AutoMap</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments keyword" style="font-style:italic">typeof</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments type-expression class-name" style="color:rgb(255, 203, 107)">`VIEW_NAME`</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> ReverseMap </span><span class="token attribute attribute-arguments operator" style="color:rgb(137, 221, 255)">=</span><span class="token attribute attribute-arguments"> </span><span class="token attribute attribute-arguments boolean" style="color:rgb(255, 88, 116)">false</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> `VIEW_NAME_ReadModel`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// variables used in the view</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">int</span><span class="token plain"> Id </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">int</span><span class="token plain"> IdTable2 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> Name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Guidelines</strong></p>
<ul>
<li class="">Include only fields needed by the WebUI.</li>
<li class="">Keep these classes simple (no business logic).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="62-writemodels--inputmodels-for-procedures"><strong>6.2 WriteModels / InputModels (for procedures)</strong><a href="#62-writemodels--inputmodels-for-procedures" class="hash-link" aria-label="Direct link to 62-writemodels--inputmodels-for-procedures" title="Direct link to 62-writemodels--inputmodels-for-procedures" translate="no">​</a></h3>
<p>A <strong>WriteModel</strong> represents the <strong>input contract</strong> required by the stored procedure(s) from Step 2.</p>
<p><strong>Example:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">WriteModels</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> `PROCEDURE_NAME_WriteModel`    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> Variable_1 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> Variable_N </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Guidelines</strong></p>
<ul>
<li class="">Prefer action‑based names, e.g., <code>GeneratePutawayOrderInputModel</code>.</li>
<li class="">Add validation attributes where applicable (<code>[Required]</code>, <code>[StringLength]</code>, etc.).</li>
</ul>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-7-create-the-required-services"><strong>Step 7: Create the Required Service(s)</strong><a href="#step-7-create-the-required-services" class="hash-link" aria-label="Direct link to step-7-create-the-required-services" title="Direct link to step-7-create-the-required-services" translate="no">​</a></h2>
<p>A dedicated <strong>service</strong> must be created for each page.<br>
<!-- -->The service acts as the <strong>intermediate layer</strong> between the controller and the database. It retrieves data from <strong>views</strong> (via the DbContext) and executes <strong>stored procedures</strong> created in Step 2.</p>
<p>Below is an example structure:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">AutoMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">Microsoft</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Data</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">SqlClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">DAL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">QueryPaging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">QuerySorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Bff</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Database</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Bff</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Database</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ReadModels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">WriteModels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">System</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Services</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> `SERVICE_NAME` </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> IService</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">readonly</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BffDbContext</span><span class="token plain"> _bffDbContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">readonly</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IMapper</span><span class="token plain"> _mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> `SERVICE_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">BffDbContext</span><span class="token plain"> bffDbContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IMapper</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            _bffDbContext </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> bffDbContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            _mapper </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// One method per view (Read)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> Task</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">IEnumerable</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token class-name" style="color:rgb(255, 203, 107)">`VIEW_NAME_ReadModel`</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> Values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QueryPaginationResult</span><span class="token plain"> PaginationResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> `Get_VIEW_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> filters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QuerySort</span><span class="token plain"> sorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QueryPage</span><span class="token plain"> paginator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> _mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token generic-method function" style="color:rgb(130, 170, 255)">GetQueryData</span><span class="token generic-method generic class-name punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generic-method generic class-name" style="color:rgb(255, 203, 107)">`VIEW_NAME_ReadModel`</span><span class="token generic-method generic class-name punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generic-method generic class-name" style="color:rgb(255, 203, 107)"> `VIEW_NAME`</span><span class="token generic-method generic class-name punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_bffDbContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paginator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// One method per procedure (Write)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> Task `Create_PROCEDURE_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">`PROCEDURE_NAME_WriteModel` item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> userName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">var</span><span class="token plain"> key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;`PROCEDURE_NAME`&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Identifier for diagnostics/logging</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">var</span><span class="token plain"> spText </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;[`SCHEMA_NAME`].[`PROCEDURE_NAME`]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            @Variable_1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            @Variable_N&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">var</span><span class="token plain"> parameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 107)">SqlParameter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@Variable_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> SqlDbType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">NVarChar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> Value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Variable_1 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 107)">SqlParameter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@Variable_N&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> SqlDbType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">NVarChar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> Value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Variable_N </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> _bffDbContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ExecuteStoredProcedure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> spText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Conventions</strong></p>
<ul>
<li class=""><strong>Read methods</strong>: <code>Get + View Name</code> (e.g., <code>GetPutawayOrdersAsync</code>).</li>
<li class=""><strong>Write methods</strong>: <code>Action + Entity Name</code> (e.g., <code>CreatePutawayOrderAsync</code>).</li>
</ul>
<p><strong>Best Practices</strong></p>
<ul>
<li class="">Logic should be minimal. No formatting, UI logic, or view-specific transformations.</li>
<li class="">Create a unique <code>key</code> value (identifier for logging and diagnostics).</li>
<li class="">Pass SQL parameters in the exact order expected by the procedure.</li>
<li class="">Avoid returning raw SQL data (the WebUI only needs the result message).</li>
</ul>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-8-create-the-required-controllers"><strong>Step 8: Create the Required Controller(s)</strong><a href="#step-8-create-the-required-controllers" class="hash-link" aria-label="Direct link to step-8-create-the-required-controllers" title="Direct link to step-8-create-the-required-controllers" translate="no">​</a></h2>
<p>Controllers <strong>expose API endpoints</strong>, call the <strong>service</strong>, and handle <strong>input validation</strong> and <strong>HTTP responses</strong>.</p>
<p>One controller per section in a page/feature.<br>
<!-- -->Endpoints:</p>
<ul>
<li class=""><strong>GET</strong> for views (read).</li>
<li class=""><strong>POST/PUT/DELETE</strong> for procedures (write actions).</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">Microsoft</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Authorization</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">Microsoft</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Mvc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">ApiVersioning</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Authentication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Authorization</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">DefaultPermissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">ComboboxAPIs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">QueryPaging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">AspNetCore</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Common</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">QuerySorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">SmilE80</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Bff</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Database</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ReadModels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">WriteModels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">using</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> SmilE80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Bff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`PROJECT_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Controllers</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">Route</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;api/`PROJECT_NAME`/[controller]&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token attribute punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute"> </span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">ApiController</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">Authorize</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments">Policy </span><span class="token attribute attribute-arguments operator" style="color:rgb(137, 221, 255)">=</span><span class="token attribute attribute-arguments"> </span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;ApiNamePolicy&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Controller</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token type-list class-name" style="color:rgb(255, 203, 107)">ControllerBase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">readonly</span><span class="token plain"> `SERVICE_NAME` _service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> `FEATURE_NAME_Controller`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">`SERVICE_NAME` service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            _service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Returns paged, sorted, and filtered data from [`SCHEMA_NAME`].[`VIEW_NAME`].</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">DefaultPermission</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments">RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">None</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">None</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">Supervisor </span><span class="token attribute attribute-arguments operator" style="color:rgb(137, 221, 255)">|</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">Operator </span><span class="token attribute attribute-arguments operator" style="color:rgb(137, 221, 255)">|</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">Viewer</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">HttpGet</span><span class="token attribute punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute"> </span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">ApiVersioning</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;1.0.0&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> Task</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">ListOfDtoResults</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">`VIEW_NAME_ReadModel`</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> `Get_VIEW_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">string</span><span class="token plain"> filters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QuerySort</span><span class="token plain"> sorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QueryPage</span><span class="token plain"> paginator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">var</span><span class="token plain"> pagedResult </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> _service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`Get_VIEW_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sorting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paginator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 107)">ListOfDtoResults</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 107)">`VIEW_NAME_ReadModel`</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pagedResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pagedResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">PaginationResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Executes [`SCHEMA_NAME`].[`PROCEDURE_NAME`].</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">DefaultPermission</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments">RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">None</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">Supervisor </span><span class="token attribute attribute-arguments operator" style="color:rgb(137, 221, 255)">|</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">Operator</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> RoleType</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token attribute attribute-arguments">None</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">HttpPost</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;`PROCEDURE_NAME`&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token attribute punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute"> </span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">ApiVersioning</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;1.0.0&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> Task `Create_PROCEDURE_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">FromBody</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ProcedureNameWriteModel</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> _service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">`Create_PROCEDURE_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">GetUserName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// In case a combobox is needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">DefaultPermission</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">RoleType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> RoleType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> RoleType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Supervisor </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> RoleType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Operator </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> RoleType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Viewer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">HttpGet</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;`Get_TABLE_NAME`&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token attribute punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute"> </span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">ApiVersioning</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;1.0.0&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token attribute class-name" style="color:rgb(255, 203, 107)">EnableCombobox</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments keyword" style="font-style:italic">nameof</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attribute attribute-arguments">BffDbContext</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> </span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;`SCHEMA_NAME`.`TABLE_NAME`&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> </span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;`VALUE_FIELD`&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token attribute attribute-arguments"> </span><span class="token attribute attribute-arguments string" style="color:rgb(195, 232, 141)">&quot;`LABEL_FIELD`&quot;</span><span class="token attribute attribute-arguments punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">object</span><span class="token plain"> `Get_TABLE_NAME`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(255, 203, 107)">ComboBoxOnlyMethodException</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-9-test-api-actions-not-necessary-but-recomended"><strong>Step 9: Test API actions (not necessary but recomended)</strong><a href="#step-9-test-api-actions-not-necessary-but-recomended" class="hash-link" aria-label="Direct link to step-9-test-api-actions-not-necessary-but-recomended" title="Direct link to step-9-test-api-actions-not-necessary-but-recomended" translate="no">​</a></h2>
<p>To test the API actions created, there are different platforms to test like postman, swagger, etc.</p>
<p><strong><a class="" href="/DocE80/docs/BFF/Swagger">Swagger</a></strong> -&gt; Guide on how to test in Swagger</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="92-postman"><strong>9.2 Postman</strong><a href="#92-postman" class="hash-link" aria-label="Direct link to 92-postman" title="Direct link to 92-postman" translate="no">​</a></h3>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-10-publish-new-api-or-page"><strong>Step 10: Publish new API or Page</strong><a href="#step-10-publish-new-api-or-page" class="hash-link" aria-label="Direct link to step-10-publish-new-api-or-page" title="Direct link to step-10-publish-new-api-or-page" translate="no">​</a></h2>
<br>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-11-create-new-webui-page"><strong>Step 11: Create new WebUi page</strong><a href="#step-11-create-new-webui-page" class="hash-link" aria-label="Direct link to step-11-create-new-webui-page" title="Direct link to step-11-create-new-webui-page" translate="no">​</a></h2></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/DocE80/docs/BFF/Controller"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Controller</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/DocE80/docs/BFF/Model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Where Models Are Used</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-define-the-webui-page-functionality" class="table-of-contents__link toc-highlight"><strong>Step 1: Define the WebUI Page Functionality</strong></a></li><li><a href="#step-2-create-the-required-stored-procedures" class="table-of-contents__link toc-highlight"><strong>Step 2: Create the required Stored Procedure(s)</strong></a></li><li><a href="#step-3-create-the-required-views" class="table-of-contents__link toc-highlight"><strong>Step 3: Create the Required View(s)</strong></a></li><li><a href="#step-4-update-dbcontextcs" class="table-of-contents__link toc-highlight"><strong>Step 4: Update <code>DbContext.cs</code></strong></a><ul><li><a href="#41-prepare-the-dbcontext-for-the-update" class="table-of-contents__link toc-highlight"><strong>4.1 Prepare the DbContext for the Update</strong></a></li><li><a href="#42-scaffold-the-new-view" class="table-of-contents__link toc-highlight"><strong>4.2 Scaffold the New View</strong></a></li><li><a href="#43-transfer-the-view-definitions" class="table-of-contents__link toc-highlight"><strong>4.3 Transfer the View Definitions</strong></a></li><li><a href="#44-finalize-the-context-update" class="table-of-contents__link toc-highlight"><strong>4.4 Finalize the Context Update</strong></a></li></ul></li><li><a href="#step-5-create-a-new-project-if-needed" class="table-of-contents__link toc-highlight"><strong>Step 5: Create a New Project (if needed)</strong></a><ul><li><a href="#51-create-the-project" class="table-of-contents__link toc-highlight"><strong>5.1 Create the Project</strong></a></li><li><a href="#52-create-the-base-folder-structure" class="table-of-contents__link toc-highlight"><strong>5.2 Create the Base Folder Structure</strong></a></li></ul></li><li><a href="#step-6-create-the-required-models" class="table-of-contents__link toc-highlight"><strong>Step 6: Create the Required Model(s)</strong></a><ul><li><a href="#61-readmodels-for-views" class="table-of-contents__link toc-highlight"><strong>6.1 ReadModels (for views)</strong></a></li><li><a href="#62-writemodels--inputmodels-for-procedures" class="table-of-contents__link toc-highlight"><strong>6.2 WriteModels / InputModels (for procedures)</strong></a></li></ul></li><li><a href="#step-7-create-the-required-services" class="table-of-contents__link toc-highlight"><strong>Step 7: Create the Required Service(s)</strong></a></li><li><a href="#step-8-create-the-required-controllers" class="table-of-contents__link toc-highlight"><strong>Step 8: Create the Required Controller(s)</strong></a></li><li><a href="#step-9-test-api-actions-not-necessary-but-recomended" class="table-of-contents__link toc-highlight"><strong>Step 9: Test API actions (not necessary but recomended)</strong></a><ul><li><a href="#92-postman" class="table-of-contents__link toc-highlight"><strong>9.2 Postman</strong></a></li></ul></li><li><a href="#step-10-publish-new-api-or-page" class="table-of-contents__link toc-highlight"><strong>Step 10: Publish new API or Page</strong></a></li><li><a href="#step-11-create-new-webui-page" class="table-of-contents__link toc-highlight"><strong>Step 11: Create new WebUi page</strong></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 E80Group PC SW Developer.</div></div></div></footer></div>
</body>
</html>